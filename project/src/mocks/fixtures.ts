import { 
  User, Organization, Project, Phase, Task, Deliverable, 
  Report, KPI, LogAuditoria, AuthResponse,
  UserStatus, OrganizationPlan, OrganizationStatus,
  ProjectType, ProjectStatus, PhaseStatus, TaskStatus, 
  TaskPriority, DeliverableStatus, ReportType, 
  KPICategory, AuditSeverity, Role
} from '@/types'
import { addDays, addWeeks, subDays, subWeeks } from 'date-fns'

// Users (DrimSoft Staff)
export const mockUsers: User[] = [
  {
    id: '1',
    name: 'Ana Garc√≠a',
    email: 'ana.garcia@drimsoft.com',
    photoURL: 'https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?w=150',
    status: UserStatus.ACTIVO,
    role: Role.ADMIN_DRIMSOFT,
    createdAt: subDays(new Date(), 180),
    updatedAt: new Date(),
  },
  {
    id: '2',
    name: 'Carlos Mendez',
    email: 'carlos.mendez@drimsoft.com',
    photoURL: 'https://images.pexels.com/photos/697509/pexels-photo-697509.jpeg?w=150',
    status: UserStatus.ACTIVO,
    role: Role.ADMIN_DRIMSOFT,
    createdAt: subDays(new Date(), 150),
    updatedAt: new Date(),
  },
  {
    id: '3',
    name: 'Elena Rodriguez',
    email: 'elena.rodriguez@drimsoft.com',
    status: UserStatus.ACTIVO,
    role: Role.ADMIN_DRIMSOFT,
    createdAt: subDays(new Date(), 120),
    updatedAt: new Date(),
  },
]

// Organizations
export const mockOrganizations: Organization[] = [
  {
    id: '1',
    name: 'TechCorp Solutions',
    address: '123 Innovation Ave, Tech City, TC 12345',
    phone: '+1 (555) 123-4567',
    domain: 'techcorp.com',
    plan: OrganizationPlan.ENTERPRISE,
    status: OrganizationStatus.ACTIVA,
    photoURL: 'https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg?w=150',
    adminCount: 3,
    projectCount: 8,
    mau: 1250,
    createdAt: subDays(new Date(), 365),
    updatedAt: new Date(),
  },
  {
    id: '2',
    name: 'Global Manufacturing Inc',
    address: '456 Industrial Blvd, Factory Town, FT 67890',
    phone: '+1 (555) 234-5678',
    domain: 'globalmanufacturing.com',
    plan: OrganizationPlan.PRO,
    status: OrganizationStatus.ACTIVA,
    adminCount: 2,
    projectCount: 5,
    mau: 850,
    createdAt: subDays(new Date(), 300),
    updatedAt: new Date(),
  },
  {
    id: '3',
    name: 'Healthcare Partners',
    address: '789 Medical Center Dr, Health City, HC 11111',
    phone: '+1 (555) 345-6789',
    domain: 'healthcarepartners.org',
    plan: OrganizationPlan.PRO,
    status: OrganizationStatus.ACTIVA,
    adminCount: 4,
    projectCount: 6,
    mau: 2100,
    createdAt: subDays(new Date(), 280),
    updatedAt: new Date(),
  },
  {
    id: '4',
    name: 'StartupVenture Co',
    address: '321 Startup St, Innovation Hub, IH 22222',
    phone: '+1 (555) 456-7890',
    domain: 'startupventure.co',
    plan: OrganizationPlan.BASIC,
    status: OrganizationStatus.ACTIVA,
    adminCount: 1,
    projectCount: 2,
    mau: 45,
    createdAt: subDays(new Date(), 60),
    updatedAt: new Date(),
  },
  {
    id: '5',
    name: 'Education Institute',
    address: '654 Learning Lane, Knowledge City, KC 33333',
    phone: '+1 (555) 567-8901',
    domain: 'educationinstitute.edu',
    plan: OrganizationPlan.PRO,
    status: OrganizationStatus.SUSPENDIDA,
    adminCount: 2,
    projectCount: 3,
    mau: 0,
    createdAt: subDays(new Date(), 200),
    updatedAt: new Date(),
  },
  {
    id: '6',
    name: 'Financial Services Group',
    address: '888 Wall Street, Finance District, FD 44444',
    phone: '+1 (555) 678-9012',
    domain: 'financialservices.com',
    plan: OrganizationPlan.ENTERPRISE,
    status: OrganizationStatus.ACTIVA,
    photoURL: 'https://images.pexels.com/photos/1591062/pexels-photo-1591062.jpeg?w=150',
    adminCount: 5,
    projectCount: 12,
    mau: 3200,
    createdAt: subDays(new Date(), 400),
    updatedAt: new Date(),
  },
  {
    id: '7',
    name: 'Retail Chain Corp',
    address: '999 Commerce Blvd, Shopping Center, SC 55555',
    phone: '+1 (555) 789-0123',
    domain: 'retailchain.com',
    plan: OrganizationPlan.PRO,
    status: OrganizationStatus.ACTIVA,
    adminCount: 3,
    projectCount: 7,
    mau: 1800,
    createdAt: subDays(new Date(), 250),
    updatedAt: new Date(),
  },
  {
    id: '8',
    name: 'Transportation Logistics',
    address: '777 Highway 101, Logistics Park, LP 66666',
    phone: '+1 (555) 890-1234',
    domain: 'transportlogistics.com',
    plan: OrganizationPlan.BASIC,
    status: OrganizationStatus.ACTIVA,
    adminCount: 2,
    projectCount: 4,
    mau: 320,
    createdAt: subDays(new Date(), 180),
    updatedAt: new Date(),
  },
  {
    id: '9',
    name: 'Energy Solutions Inc',
    address: '555 Power Plant Rd, Energy City, EC 77777',
    phone: '+1 (555) 901-2345',
    domain: 'energysolutions.com',
    plan: OrganizationPlan.ENTERPRISE,
    status: OrganizationStatus.ACTIVA,
    photoURL: 'https://images.pexels.com/photos/2219024/pexels-photo-2219024.jpeg?w=150',
    adminCount: 4,
    projectCount: 9,
    mau: 2800,
    createdAt: subDays(new Date(), 320),
    updatedAt: new Date(),
  },
  {
    id: '10',
    name: 'Media & Entertainment Co',
    address: '333 Studio Lane, Creative District, CD 88888',
    phone: '+1 (555) 012-3456',
    domain: 'mediaentertainment.com',
    plan: OrganizationPlan.PRO,
    status: OrganizationStatus.PENDIENTE,
    adminCount: 2,
    projectCount: 1,
    mau: 150,
    createdAt: subDays(new Date(), 30),
    updatedAt: new Date(),
  },
  {
    id: '11',
    name: 'Real Estate Development',
    address: '111 Property Ave, Construction Zone, CZ 99999',
    phone: '+1 (555) 123-4567',
    domain: 'realestatedev.com',
    plan: OrganizationPlan.PRO,
    status: OrganizationStatus.ACTIVA,
    adminCount: 3,
    projectCount: 6,
    mau: 950,
    createdAt: subDays(new Date(), 220),
    updatedAt: new Date(),
  },
  {
    id: '12',
    name: 'Food & Beverage Corp',
    address: '222 Restaurant Row, Culinary District, CD 00000',
    phone: '+1 (555) 234-5678',
    domain: 'foodbeverage.com',
    plan: OrganizationPlan.BASIC,
    status: OrganizationStatus.ACTIVA,
    adminCount: 1,
    projectCount: 2,
    mau: 180,
    createdAt: subDays(new Date(), 90),
    updatedAt: new Date(),
  },
  {
    id: '13',
    name: 'Technology Consulting',
    address: '444 Innovation Hub, Tech Valley, TV 11111',
    phone: '+1 (555) 345-6789',
    domain: 'techconsulting.com',
    plan: OrganizationPlan.ENTERPRISE,
    status: OrganizationStatus.ACTIVA,
    photoURL: 'https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?w=150',
    adminCount: 6,
    projectCount: 15,
    mau: 4500,
    createdAt: subDays(new Date(), 500),
    updatedAt: new Date(),
  },
  {
    id: '14',
    name: 'Environmental Services',
    address: '666 Green Earth St, Eco Park, EP 22222',
    phone: '+1 (555) 456-7890',
    domain: 'environmentalservices.org',
    plan: OrganizationPlan.PRO,
    status: OrganizationStatus.ACTIVA,
    adminCount: 2,
    projectCount: 5,
    mau: 720,
    createdAt: subDays(new Date(), 160),
    updatedAt: new Date(),
  },
  {
    id: '15',
    name: 'Sports & Recreation',
    address: '777 Stadium Way, Sports Complex, SC 33333',
    phone: '+1 (555) 567-8901',
    domain: 'sportsrecreation.com',
    plan: OrganizationPlan.BASIC,
    status: OrganizationStatus.SUSPENDIDA,
    adminCount: 1,
    projectCount: 1,
    mau: 0,
    createdAt: subDays(new Date(), 120),
    updatedAt: new Date(),
  },
]

// Projects
export const mockProjects: Project[] = [
  {
    id: '1',
    name: 'Digital Transformation Initiative',
    description: 'Complete overhaul of legacy systems to modern cloud-based architecture',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 90),
    endDate: addDays(new Date(), 120),
    budget: 500000,
    cost: 320000,
    percentageBudgetExecution: 0.64,
    percentageProgress: 0.72,
    organizationId: '1',
    createdAt: subDays(new Date(), 90),
    updatedAt: new Date(),
  },
  {
    id: '2',
    name: 'ERP Implementation',
    description: 'Implementation of comprehensive ERP system for manufacturing operations',
    type: ProjectType.IMPLEMENTACION,
    status: ProjectStatus.EN_REVISION,
    startDate: subDays(new Date(), 150),
    endDate: addDays(new Date(), 30),
    budget: 750000,
    cost: 680000,
    percentageBudgetExecution: 0.91,
    percentageProgress: 0.95,
    organizationId: '2',
    createdAt: subDays(new Date(), 150),
    updatedAt: new Date(),
  },
  {
    id: '3',
    name: 'Patient Management System',
    description: 'Electronic health records and patient management platform',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.EN_RIESGO,
    startDate: subDays(new Date(), 120),
    endDate: addDays(new Date(), 60),
    budget: 300000,
    cost: 280000,
    percentageBudgetExecution: 0.93,
    percentageProgress: 0.65,
    organizationId: '3',
    createdAt: subDays(new Date(), 120),
    updatedAt: new Date(),
  },
  {
    id: '4',
    name: 'Mobile App Development',
    description: 'Customer-facing mobile application for service booking',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 45),
    endDate: addDays(new Date(), 90),
    budget: 150000,
    cost: 65000,
    percentageBudgetExecution: 0.43,
    percentageProgress: 0.55,
    organizationId: '4',
    createdAt: subDays(new Date(), 45),
    updatedAt: new Date(),
  },
  {
    id: '5',
    name: 'Security Audit & Compliance',
    description: 'Comprehensive security assessment and compliance implementation',
    type: ProjectType.CONSULTORIA,
    status: ProjectStatus.CERRADO,
    startDate: subDays(new Date(), 200),
    endDate: subDays(new Date(), 30),
    budget: 100000,
    cost: 95000,
    percentageBudgetExecution: 0.95,
    percentageProgress: 1.0,
    organizationId: '1',
    createdAt: subDays(new Date(), 200),
    updatedAt: subDays(new Date(), 30),
  },
  {
    id: '6',
    name: 'Financial Analytics Platform',
    description: 'Advanced analytics platform for financial data processing and reporting',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 100),
    endDate: addDays(new Date(), 80),
    budget: 800000,
    cost: 450000,
    percentageBudgetExecution: 0.56,
    percentageProgress: 0.68,
    organizationId: '6',
    createdAt: subDays(new Date(), 100),
    updatedAt: new Date(),
  },
  {
    id: '7',
    name: 'E-commerce Integration',
    description: 'Integration of multiple e-commerce platforms for unified management',
    type: ProjectType.IMPLEMENTACION,
    status: ProjectStatus.EN_REVISION,
    startDate: subDays(new Date(), 80),
    endDate: addDays(new Date(), 20),
    budget: 300000,
    cost: 280000,
    percentageBudgetExecution: 0.93,
    percentageProgress: 0.88,
    organizationId: '7',
    createdAt: subDays(new Date(), 80),
    updatedAt: new Date(),
  },
  {
    id: '8',
    name: 'Supply Chain Optimization',
    description: 'AI-powered supply chain management and optimization system',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 60),
    endDate: addDays(new Date(), 120),
    budget: 400000,
    cost: 180000,
    percentageBudgetExecution: 0.45,
    percentageProgress: 0.42,
    organizationId: '8',
    createdAt: subDays(new Date(), 60),
    updatedAt: new Date(),
  },
  {
    id: '9',
    name: 'Smart Grid Management',
    description: 'IoT-based smart grid monitoring and management system',
    type: ProjectType.IMPLEMENTACION,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 200),
    endDate: addDays(new Date(), 100),
    budget: 1200000,
    cost: 850000,
    percentageBudgetExecution: 0.71,
    percentageProgress: 0.75,
    organizationId: '9',
    createdAt: subDays(new Date(), 200),
    updatedAt: new Date(),
  },
  {
    id: '10',
    name: 'Content Management System',
    description: 'Multi-platform content management and distribution system',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.NUEVO,
    startDate: new Date(),
    endDate: addDays(new Date(), 90),
    budget: 200000,
    cost: 0,
    percentageBudgetExecution: 0,
    percentageProgress: 0,
    organizationId: '10',
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: '11',
    name: 'Property Management Portal',
    description: 'Comprehensive property management and tenant portal',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 120),
    endDate: addDays(new Date(), 60),
    budget: 350000,
    cost: 220000,
    percentageBudgetExecution: 0.63,
    percentageProgress: 0.70,
    organizationId: '11',
    createdAt: subDays(new Date(), 120),
    updatedAt: new Date(),
  },
  {
    id: '12',
    name: 'Inventory Management System',
    description: 'Real-time inventory tracking and management system',
    type: ProjectType.IMPLEMENTACION,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 45),
    endDate: addDays(new Date(), 45),
    budget: 150000,
    cost: 75000,
    percentageBudgetExecution: 0.50,
    percentageProgress: 0.55,
    organizationId: '12',
    createdAt: subDays(new Date(), 45),
    updatedAt: new Date(),
  },
  {
    id: '13',
    name: 'Cloud Migration Strategy',
    description: 'Complete migration to cloud infrastructure and services',
    type: ProjectType.CONSULTORIA,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 300),
    endDate: addDays(new Date(), 180),
    budget: 2000000,
    cost: 1200000,
    percentageBudgetExecution: 0.60,
    percentageProgress: 0.65,
    organizationId: '13',
    createdAt: subDays(new Date(), 300),
    updatedAt: new Date(),
  },
  {
    id: '14',
    name: 'Environmental Monitoring Platform',
    description: 'IoT sensors and data analytics for environmental monitoring',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.EN_CURSO,
    startDate: subDays(new Date(), 90),
    endDate: addDays(new Date(), 90),
    budget: 250000,
    cost: 140000,
    percentageBudgetExecution: 0.56,
    percentageProgress: 0.60,
    organizationId: '14',
    createdAt: subDays(new Date(), 90),
    updatedAt: new Date(),
  },
  {
    id: '15',
    name: 'Sports Analytics Dashboard',
    description: 'Performance analytics and statistics dashboard for sports teams',
    type: ProjectType.DESARROLLO,
    status: ProjectStatus.EN_RIESGO,
    startDate: subDays(new Date(), 150),
    endDate: addDays(new Date(), 30),
    budget: 180000,
    cost: 160000,
    percentageBudgetExecution: 0.89,
    percentageProgress: 0.45,
    organizationId: '15',
    createdAt: subDays(new Date(), 150),
    updatedAt: new Date(),
  },
]

// Add organization references to projects
mockProjects.forEach(project => {
  project.organization = mockOrganizations.find(org => org.id === project.organizationId)
})

// KPIs (time series data for charts)
export const mockKPIs: KPI[] = [
  // Performance KPIs
  ...Array.from({ length: 12 }, (_, i) => ({
    id: `perf-${i}`,
    category: KPICategory.PERFORMANCE,
    name: 'Project Completion Rate',
    value: 0.82 + (Math.random() * 0.15),
    target: 0.85,
    unit: '%',
    period: subWeeks(new Date(), 11 - i).toISOString().slice(0, 10),
    createdAt: subWeeks(new Date(), 11 - i),
  })),
  
  // Quality KPIs
  ...Array.from({ length: 12 }, (_, i) => ({
    id: `qual-${i}`,
    category: KPICategory.QUALITY,
    name: 'Defect Rate',
    value: 0.03 + (Math.random() * 0.02),
    target: 0.02,
    unit: '%',
    period: subWeeks(new Date(), 11 - i).toISOString().slice(0, 10),
    createdAt: subWeeks(new Date(), 11 - i),
  })),
  
  // Adoption KPIs by Organization
  ...mockOrganizations.flatMap((org, orgIndex) => 
    Array.from({ length: 12 }, (_, i) => ({
      id: `adopt-${org.id}-${i}`,
      category: KPICategory.ADOPTION,
      name: 'Monthly Active Users',
      value: Math.floor(org.mau * (0.8 + Math.random() * 0.4)),
      unit: 'users',
      period: subWeeks(new Date(), 11 - i).toISOString().slice(0, 10),
      organizationId: org.id,
      createdAt: subWeeks(new Date(), 11 - i),
    }))
  ),
]

// Audit Logs
export const mockAuditLogs: LogAuditoria[] = [
  {
    id: '1',
    actor: 'ana.garcia@drimsoft.com',
    action: 'CREATE_PROJECT',
    entity: 'Project',
    entityId: '1',
    severity: AuditSeverity.MEDIUM,
    details: { projectName: 'Digital Transformation Initiative', organizationId: '1' },
    ipAddress: '192.168.1.100',
    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',
    createdAt: subDays(new Date(), 1),
  },
  {
    id: '2',
    actor: 'carlos.mendez@drimsoft.com',
    action: 'UPDATE_ORGANIZATION',
    entity: 'Organization',
    entityId: '2',
    severity: AuditSeverity.LOW,
    details: { field: 'status', oldValue: 'Activa', newValue: 'Activa' },
    ipAddress: '192.168.1.101',
    userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36',
    createdAt: subDays(new Date(), 2),
  },
  {
    id: '3',
    actor: 'system',
    action: 'FAILED_LOGIN',
    entity: 'Authentication',
    entityId: 'unknown',
    severity: AuditSeverity.HIGH,
    details: { email: 'suspicious@external.com', reason: 'Invalid domain' },
    ipAddress: '10.0.0.50',
    userAgent: 'curl/7.68.0',
    createdAt: subDays(new Date(), 3),
  },
  // Add more audit logs...
  ...Array.from({ length: 20 }, (_, i) => ({
    id: `audit-${i + 4}`,
    actor: mockUsers[i % mockUsers.length].email,
    action: ['VIEW_DASHBOARD', 'EXPORT_REPORT', 'UPDATE_PROJECT', 'VIEW_ORGANIZATION'][i % 4],
    entity: ['Dashboard', 'Report', 'Project', 'Organization'][i % 4],
    entityId: String((i % 5) + 1),
    severity: [AuditSeverity.LOW, AuditSeverity.MEDIUM][i % 2],
    details: { action: 'routine_access' },
    ipAddress: `192.168.1.${100 + (i % 10)}`,
    userAgent: 'Mozilla/5.0 (compatible browser)',
    createdAt: subDays(new Date(), i + 4),
  }))
]

// Mock Auth Response
export const mockAuthResponse: AuthResponse = {
  token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.mocktoken',
  refreshToken: 'refresh_token_mock',
  user: mockUsers[0],
  expiresAt: addDays(new Date(), 7),
}

// Dashboard KPIs
export const mockDashboardKPIs = {
  activeOrganizations: mockOrganizations.filter(org => org.status === OrganizationStatus.ACTIVA).length,
  activeProjects: mockProjects.filter(project => 
    [ProjectStatus.EN_CURSO, ProjectStatus.EN_REVISION].includes(project.status)
  ).length,
  averageProgress: mockProjects.reduce((sum, project) => sum + project.percentageProgress, 0) / mockProjects.length,
  openTickets: 23, // Mock value
  slaCompliance: 0.94,
  npsScore: 8.2,
  budgetUtilization: mockProjects.reduce((sum, project) => sum + project.percentageBudgetExecution, 0) / mockProjects.length,
  overdueDeliverables: 5, // Mock value
}